<!DOCTYPE html>
<html>
<head>
  <title>Clothing Store Management</title>
  <style>
    body {
      font-family: "Segoe UI", Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #eef2ff, #e0f7fa);
      color: #333;
    }
    h1 {
      text-align: center;
      padding: 20px;
      margin: 0;
      font-size: 32px;
      background: linear-gradient(90deg, #2563eb, #7c3aed);
      color: white;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
    }
    h3 {
      color: #2563eb;
      margin-bottom: 10px;
      border-left: 5px solid #2563eb;
      padding-left: 10px;
    }
    .section {
      margin: 20px auto;
      max-width: 1000px;
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.08);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .section:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    }
    input, select, button {
      margin: 5px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      outline: none;
      font-size: 14px;
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    input:focus, select:focus {
      border-color: #2563eb;
      box-shadow: 0 0 6px rgba(37,99,235,0.4);
    }
    button {
      cursor: pointer;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      padding: 10px 15px;
      transition: transform 0.2s, background 0.2s;
    }
    button:hover {
      transform: translateY(-2px);
    }
    .btn-green { background: #16a34a; color: white; }
    .btn-green:hover { background: #15803d; }
    .btn-blue { background: #2563eb; color: white; }
    .btn-blue:hover { background: #1e40af; }
    .btn-orange { background: #f97316; color: white; }
    .btn-orange:hover { background: #c2410c; }
    .btn-red { background: #dc2626; color: white; }
    .btn-red:hover { background: #991b1b; }

    .dashboard {
      max-width: 1000px;
      margin: 20px auto;
      display: flex;
      justify-content: space-around;
      gap: 15px;
      flex-wrap: wrap;
    }
    .card {
      flex: 1;
      min-width: 180px;
      background: linear-gradient(135deg, #2563eb, #7c3aed);
      color: white;
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      font-size: 18px;
      font-weight: bold;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      border-radius: 8px;
      overflow: hidden;
    }
    th, td {
      padding: 12px;
      text-align: center;
    }
    th {
      background: #2563eb;
      color: white;
    }
    tr:nth-child(even) { background: #f9fafb; }
    tr:hover { background: #dbeafe; }
    .low-stock {
      color: red;
      font-weight: bold;
    }

    .banner {
      display: flex;
      gap: 15px;
      margin: 20px 0;
      justify-content: center;
      flex-wrap: wrap;
    }
    .banner img {
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      width: 300px;
      height: 200px;
      object-fit: cover;
    }
  </style>
</head>
<body>

  <h1>Clothing Store Management</h1>

  <!-- Banner Images -->
  <div class="banner">
    <img src="https://images.unsplash.com/photo-1521334884684-d80222895322?w=300&h=200&fit=crop" alt="Clothing Store">
    <img src="https://images.unsplash.com/photo-1523381210434-271e8be1f52b?w=300&h=200&fit=crop" alt="Fashion Display">
    <img src="https://images.unsplash.com/photo-1520975918318-7daec63b95c6?w=300&h=200&fit=crop" alt="Mens Clothing">
    <img src="https://images.unsplash.com/photo-1519741497674-611481863552?w=300&h=200&fit=crop" alt="Women‚Äôs Clothing">
  </div>

  <!-- Dashboard Summary -->
  <div class="dashboard" id="dashboard"></div>

  <div class="section">
    <h3>Add / Edit Item</h3>
    <input type="hidden" id="editIndex" />
    <input type="text" id="name" placeholder="Clothing Name" />
    <input type="text" id="size" placeholder="Size (S, M, L...)" />
    <input type="text" id="color" placeholder="Color" />
    <select id="category">
      <option value="Shirt">Shirt</option>
      <option value="Pants">Pants</option>
      <option value="Jacket">Jacket</option>
      <option value="Other">Other</option>
    </select>
    <input type="number" id="price" placeholder="Price" />
    <input type="number" id="quantity" placeholder="Quantity" />
    <button class="btn-green" onclick="addOrUpdateItem()">üíæ Save Item</button>
  </div>

  <div class="section">
    <h3>Search & Filter</h3>
    <input type="text" id="searchKeyword" placeholder="Enter name or size" />
    <select id="filterCategory">
      <option value="">All Categories</option>
      <option value="Shirt">Shirt</option>
      <option value="Pants">Pants</option>
      <option value="Jacket">Jacket</option>
      <option value="Other">Other</option>
    </select>
    <button class="btn-blue" onclick="searchItem()">üîç Search</button>
    <div id="searchResults"></div>
  </div>

  <div class="section">
    <h3>Sell Item</h3>
    <input type="text" id="sellName" placeholder="Item name" />
    <input type="number" id="sellQty" placeholder="Quantity" />
    <input type="number" id="discount" placeholder="Discount %" />
    <input type="text" id="customerName" placeholder="Customer Name" />
    <button class="btn-blue" onclick="sellItem()">üí∏ Sell</button>
  </div>

  <div class="section">
    <h3>Stock</h3>
    <button class="btn-blue" onclick="viewStock()">üîÑ Refresh Stock</button>
    <div id="stockList"></div>
  </div>

  <div class="section">
    <h3>Sales Report</h3>
    <button class="btn-blue" onclick="viewSales()">üìä View Sales</button>
    <div id="salesReport"></div>
  </div>

  <script>
    let data = JSON.parse(localStorage.getItem("storeData")) || [];
    let sales = JSON.parse(localStorage.getItem("salesData")) || [];

    function saveData() {
      localStorage.setItem("storeData", JSON.stringify(data));
      localStorage.setItem("salesData", JSON.stringify(sales));
    }

    function updateDashboard() {
      const totalItems = data.length;
      const totalStock = data.reduce((sum, i) => sum + i.quantity, 0);
      const stockValue = data.reduce((sum, i) => sum + (i.price * i.quantity), 0);
      const totalRevenue = sales.reduce((sum, s) => sum + s.total, 0);

      document.getElementById("dashboard").innerHTML = `
        <div class="card">üõí Total Items<br>${totalItems}</div>
        <div class="card">üì¶ Total Stock<br>${totalStock}</div>
        <div class="card">üí∞ Stock Value<br>‚Çπ${stockValue}</div>
        <div class="card">üìà Total Revenue<br>‚Çπ${totalRevenue}</div>
      `;
    }

    function addOrUpdateItem() {
      const editIndex = document.getElementById("editIndex").value;
      const name = document.getElementById("name").value;
      const size = document.getElementById("size").value;
      const color = document.getElementById("color").value;
      const category = document.getElementById("category").value;
      const price = parseFloat(document.getElementById("price").value);
      const quantity = parseInt(document.getElementById("quantity").value);

      if (!name || !size || !color || isNaN(price) || isNaN(quantity)) {
        alert("Please fill all fields correctly.");
        return;
      }

      const newItem = { name, size, color, category, price, quantity };

      if (editIndex) {
        data[editIndex] = newItem;
        alert("Item updated!");
      } else {
        data.push(newItem);
        alert("Item added!");
      }

      saveData();
      resetForm();
      viewStock();
    }

    function resetForm() {
      document.getElementById("editIndex").value = "";
      document.getElementById("name").value = "";
      document.getElementById("size").value = "";
      document.getElementById("color").value = "";
      document.getElementById("price").value = "";
      document.getElementById("quantity").value = "";
    }

    function viewStock() {
      const stockDiv = document.getElementById("stockList");
      stockDiv.innerHTML = "";

      if (data.length === 0) {
        stockDiv.innerHTML = "No stock available.";
        return;
      }

      let table = `<table>
        <tr>
          <th>#</th><th>Name</th><th>Size</th><th>Color</th><th>Category</th>
          <th>Price</th><th>Qty</th><th>Actions</th>
        </tr>`;

      data.forEach((item, index) => {
        const lowStockClass = item.quantity <= 5 ? "low-stock" : "";
        table += `
          <tr>
            <td>${index + 1}</td>
            <td>${item.name}</td>
            <td>${item.size}</td>
            <td>${item.color}</td>
            <td>${item.category}</td>
            <td>‚Çπ${item.price}</td>
            <td class="${lowStockClass}">${item.quantity}</td>
            <td>
              <button class="btn-orange" onclick="editItem(${index})">‚úè Edit</button>
              <button class="btn-red" onclick="deleteItem(${index})">üóë Delete</button>
            </td>
          </tr>`;
      });

      table += "</table>";
      stockDiv.innerHTML = table;
      updateDashboard();
    }

    function editItem(index) {
      const item = data[index];
      document.getElementById("editIndex").value = index;
      document.getElementById("name").value = item.name;
      document.getElementById("size").value = item.size;
      document.getElementById("color").value = item.color;
      document.getElementById("category").value = item.category;
      document.getElementById("price").value = item.price;
      document.getElementById("quantity").value = item.quantity;
    }

    function deleteItem(index) {
      if (confirm("Are you sure you want to delete this item?")) {
        data.splice(index, 1);
        saveData();
        viewStock();
      }
    }

    function searchItem() {
      const keyword = document.getElementById("searchKeyword").value.toLowerCase();
      const filterCategory = document.getElementById("filterCategory").value;
      const resultDiv = document.getElementById("searchResults");
      resultDiv.innerHTML = "";

      const results = data.filter(item =>
        (item.name.toLowerCase().includes(keyword) || item.size.toLowerCase().includes(keyword)) &&
        (filterCategory === "" || item.category === filterCategory)
      );

      if (results.length === 0) {
        resultDiv.innerHTML = "No matching items found.";
        return;
      }

      results.forEach(item => {
        const div = document.createElement("div");
        div.className = "item";
        div.innerText = `${item.name} | Size: ${item.size} | Color: ${item.color} | Category: ${item.category} | Price: ‚Çπ${item.price} | Qty: ${item.quantity}`;
        resultDiv.appendChild(div);
      });
    }

    function sellItem() {
      const name = document.getElementById("sellName").value.toLowerCase();
      const qty = parseInt(document.getElementById("sellQty").value);
      const discount = parseFloat(document.getElementById("discount").value) || 0;
      const customerName = document.getElementById("customerName").value || "Unknown";

      const item = data.find(i => i.name.toLowerCase() === name);

      if (!item) {
        alert("Item not found.");
        return;
      }

      if (qty > item.quantity) {
        alert("Not enough stock.");
        return;
      }

      item.quantity -= qty;

      let total = qty * item.price;
      total = total - (total * discount / 100);

      sales.push({
        name: item.name,
        qty,
        price: item.price,
        discount,
        total,
        customer: customerName,
        date: new Date().toLocaleString()
      });

      saveData();
      alert(`Sold ${qty} ${item.name}(s) to ${customerName}. Total: ‚Çπ${total}`);
      viewStock();
    }

    function viewSales() {
      const reportDiv = document.getElementById("salesReport");
      reportDiv.innerHTML = "";

      if (sales.length === 0) {
        reportDiv.innerHTML = "No sales recorded yet.";
        return;
      }

      let table = `<table>
        <tr>
          <th>Date</th><th>Item</th><th>Qty</th><th>Price</th><th>Discount</th><th>Total</th><th>Customer</th>
        </tr>`;

      sales.forEach(s => {
        table += `
          <tr>
            <td>${s.date}</td>
            <td>${s.name}</td>
            <td>${s.qty}</td>
            <td>‚Çπ${s.price}</td>
            <td>${s.discount}%</td>
            <td>‚Çπ${s.total}</td>
            <td>${s.customer}</td>
          </tr>`;
      });

      table += "</table>";
      reportDiv.innerHTML = table;
    }

    // Load stock on page load
    window.onload = () => {
      viewStock();
      updateDashboard();
    };
  </script>

</body>
</html>
